===========================================================
           蓝牙通信实时测试指南
===========================================================

💻 **测试准备**
1. 烧录固件到STM32
2. 连接USB串口到USART1 (115200波特率)
3. 手机下载蓝牙终端APP (推荐: "Serial Bluetooth Terminal")
4. 确保HC05连接正确：
   - VCC → 3.3V
   - GND → GND  
   - TXD → PB11
   - RXD → PB10
   - KEY → PA4
   - LED → PA15

🔍 **测试步骤**

**步骤1：确认系统启动**
-------------------------------
□ 串口监控器应显示：
  "Smart Greenhouse System v1.0"
  "System starting..."
  "System started, running..."

□ HC05 LED状态：
  - 应该快速闪烁（寻找配对）

**步骤2：蓝牙配对**  
-------------------------------
□ 手机搜索蓝牙设备 "SBH"
□ 配对PIN码：1234
□ 配对成功后LED变为慢闪

**步骤3：连接测试**
-------------------------------
□ 打开蓝牙终端APP连接"SBH"
□ 连接成功后LED应常亮
□ 串口应显示连接确认信息

**步骤4：命令测试**
-------------------------------
在手机APP中发送以下命令（大写）：

🔹 **基本状态测试**
发送: STATUS
期望: 显示温度、湿度、工作模式等信息

🔹 **模式切换测试**  
发送: MANUAL
期望: "Switched to MANUAL mode"

🔹 **设备控制测试**
发送: FAN_ON
期望: "Fan turned ON (100% power)"

发送: PUMP_ON  
期望: "Pump turned ON"

发送: LIGHT_ON
期望: "Light turned ON"

🔹 **关闭测试**
发送: FAN_OFF
发送: PUMP_OFF
发送: LIGHT_OFF

🔹 **自动模式测试**
发送: AUTO
期望: "Switched to AUTO mode"

🔹 **蓝牙诊断测试**
发送: BT_DIAG
期望: 硬件诊断报告

===========================================================

⚠️ **常见故障排查**

❌ **问题：手机搜索不到"SBH"设备**
✅ 解决：
1. 检查HC05电源连接
2. 确认PA15引脚连接无误
3. 查看串口是否有JTAG禁用信息

❌ **问题：能配对但无法连接**
✅ 解决：
1. 删除手机中的配对记录重新配对
2. 检查PIN码是否正确(1234)
3. 重启HC05模块

❌ **问题：连接成功但命令无效果**  
✅ 解决：
1. 确认命令格式：全部大写，无空格
2. 检查TXD/RXD是否交叉连接
3. 查看串口调试信息确认数据接收

❌ **问题：[DEBUG]信息不断刷屏**
✅ 解决：
1. 这是正常的，表示数据在传输
2. 如果影响观察，可暂时注释调试代码

===========================================================

📱 **推荐的蓝牙终端APP**

Android:
- "Serial Bluetooth Terminal" (免费，功能强大)
- "Bluetooth Terminal" 
- "BlueTerm"

iOS:  
- "LightBlue Explorer"
- "BLE Terminal"

===========================================================

🎯 **测试成功标志**

✅ HC05 LED常亮
✅ 串口显示[BT_CMD_X]消息
✅ 每个命令都有对应响应  
✅ 手动模式下设备能控制
✅ 自动模式能正常切换

=========================================================== 